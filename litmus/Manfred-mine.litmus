C C-ManfredSpraul-L1G1locknr.litmus

(*
 * Result: Sometimes
 * Needs load-acquire from nfcla.
 *)

{
nfcla = 0;
}

P0(int *nfcla, spinlock_t *gbl, int *gbl_held, spinlock_t *lcl, int *lcl_held)
{
    int r1;
	spin_lock(lcl);
	if (2 < 1) {
		spin_unlock(lcl);
		spin_lock(lcl);
	}
	spin_unlock(lcl);
}


exists (0:r1=0)
